<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Test Default Validators</title>
<script language="JavaScript" type="text/javascript" src="jsunit/app/jsUnitCore.js"></script>
<script language="JavaScript" type="text/javascript" src="../src/ci_validation.js"></script>
<script language="JavaScript" type="text/javascript">
// ==============================
// required
// ==============================
function testRequiredSuccess() {
	var validator = new CI_Validation();
	validator.set_rules('name', 'NAME', 'required').set_value('fukata');
	assertTrue(validator.run());
}
function testRequiredFailed() {
	var validator = new CI_Validation();
	validator.set_rules('name', 'NAME', 'required');
	validator.set_value('name', undefined);
	assertFalse(validator.run());
	debug(JSON.stringify(validator.errors));
}

// ==============================
// max_length 
// ==============================
function testMaxLengthSuccess() {
	var validator = new CI_Validation();
	validator.set_rules('name', 'NAME', 'max_length[10]');
	validator.set_value('name', 'fukata');
	assertTrue(validator.run());
}
function testMaxLengthFailed() {
	var validator = new CI_Validation();
	validator.set_rules('name', 'NAME', 'max_length[10]');
	validator.set_value('name', 'tatsuya.fukata');
	assertFalse(validator.run());
	debug(JSON.stringify(validator.errors));
}

// ==============================
// min_length 
// ==============================
function testMinLengthSuccess() {
	var validator = new CI_Validation();
	validator.set_rules('name', 'NAME', 'min_length[3]').set_value('Tatsuya Fukata');
	assertTrue(validator.run());
}

function testMinLengthFailed() {
	var validator = new CI_Validation();
	validator.set_rules('name', 'NAME', 'min_length[20]').set_value('Tatsuya Fukata');
	assertFalse(validator.run());
}

</script>
</head>

<body>
<h1>Test Default Validators</h1>
</body>

</html>
